<!DOCTYPE html>
<html lang="zh-cn" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">
<html>
<head><meta charset="UTF-8">
    <meta http-equiv="content-type" content="text/html">
    <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <meta name="render" content="webkit|ie-comp|ie-stand">
    <meta charset="UTF-8">
    <div th:include="inc/common"></div>
</head>


<body class="custom">
<!--主体开始-->
<div class="content">
        <div class="container-fluid">
        <br/>

        <form action="" class="layui-form">
            <input type="hidden" name="id" th:value="${roomPropertyDo.id}"/>
            <table class="youAdd">
                <tr>
                    <td class="TDleft require"><label>单位：</label></td>
                    <td width="300"><input type="text" class="input-large" th:value="${roomPropertyDo.org}" name="org"
                                           lay-verify="required"></td>
                    <td class="TDleft require"><label>办案区：</label></td>
                    <td width="300"><input type="text" class="input-large" th:value="${roomPropertyDo.area}" name="area"></td>
                </tr>
                <tr>
                    <td class="TDleft require"><label>房间名称：</label></td>
                    <td><input type="text" class="input-large" name="roomName" th:value="${roomPropertyDo.roomName}" lay-verify="required">
                    </td>
                    <td class="TDleft require"><label>房间编号：</label></td>
                    <td><input type="text" class="input-large" name="roomNo" th:value="${roomPropertyDo.roomNo}" lay-verify="required">
                    </td>
                </tr>
                <tr>
                    <td class="TDleft"><label>房间类型：</label></td>
                    <td>
                        <span th:include="component/selectCombo(id='roomType',name='roomType',defaultValue=${roomPropertyDo.roomType},dictType='ROOM_TYPE')"></span>
                    </td>
                    <td class="TDleft"><label>房间状态：</label></td>
                    <td>
                        <span th:include="component/selectCombo(id='roomStatus',name='roomStatus',defaultValue=${roomPropertyDo.roomStatus},dictType='ROOM_STATUS')"></span>
                    </td>
                </tr>
                <tr>
                    <td class="TDleft">
                        房间可容纳人数:
                    </td>
                    <td colspan="3">
                        <input type="text" name="roomMax" th:value="${roomPropertyDo.roomMax}">
                    </td>
                </tr>


                <tr>
                    <td colspan="4" style="color:#FACC2E;">灯设置</td>
                </tr>
                <tr>
                    <td class="TDleft"><label>灯ip</label></td>
                    <td>
                        <input type="text" name="lightIp" th:value="${roomPropertyDo.lightIp}">
                    </td>
                    <td class="TDleft"><label>灯端口：</label></td>
                    <td>
                        <input type="text" name="lightPort" th:value="${roomPropertyDo.lightPort}">
                    </td>
                </tr>
                <tr>
                    <td class="TDleft"><label>灯路数</label></td>
                    <td>
                        <input type="text" name="lightIndex" th:value="${roomPropertyDo.lightIndex}">
                    </td>
                    <td class="TDleft"><label>灯状态：</label></td>
                    <td>
                        <span th:include="component/selectCombo(id='light_status',name='lightStatus',defaultValue=${roomPropertyDo.lightStatus},dictType='SWITCH_STATUS')"></span>
                    </td>
                </tr>

                <tr>
                    <td colspan="4" style="color:#FACC2E;">风扇设置</td>
                </tr>
                <tr>
                    <td class="TDleft"><label>风扇ip</label></td>
                    <td>
                        <input type="text" name="windIp" th:value="${roomPropertyDo.windIp}">
                    </td>
                    <td class="TDleft"><label>风扇端口：</label></td>
                    <td>
                        <input type="text" name="windPort" th:value="${roomPropertyDo.windPort}">
                    </td>
                </tr>
                <tr>
                    <td class="TDleft"><label>风扇路数</label></td>
                    <td>
                        <input type="text" name="windRoad" th:value="${roomPropertyDo.windRoad}">
                    </td>
                    <td class="TDleft"><label>风扇状态：</label></td>
                    <td>
                        <span th:include="component/selectCombo(id='wind_status',name='windStatus',defaultValue=${roomPropertyDo.windStatus},dictType='SWITCH_STATUS')"></span>
                    </td>
                </tr>


                <tr>
                    <td colspan="4" style="color:#FACC2E;">墙体设置</td>
                </tr>
                <tr>
                    <td class="TDleft"><label>墙体ip</label></td>
                    <td>
                        <input type="text" name="wallIp" th:value="${roomPropertyDo.wallIp}">
                    </td>
                    <td class="TDleft"><label>墙体端口：</label></td>
                    <td>
                        <input type="text" name="wallPort" th:value="${roomPropertyDo.wallPort}">
                    </td>
                </tr>
                <tr>
                    <td class="TDleft"><label>墙体路数</label></td>
                    <td>
                        <input type="text" name="wallRoad" th:value="${roomPropertyDo.wallRoad}">
                    </td>
                    <td class="TDleft"><label>墙体状态：</label></td>
                    <td>
                        <span th:include="component/selectCombo(id='wall_status',name='wallStatus',defaultValue=${roomPropertyDo.wallStatus},dictType='SWITCH_STATUS')"></span>
                    </td>
                </tr>


				<tr>
                    <td colspan="4" style="color:#FACC2E;">LED设置</td>
                </tr>
                <tr>
                    <td class="TDleft"><label>LEDip</label></td>
                    <td>
                        <input type="text" name="ledIp" th:value="${roomPropertyDo.ledIp}">
                    </td>
                    <td class="TDleft"><label>LED端口：</label></td>
                    <td>
                        <input type="text" name="ledPort" th:value="${roomPropertyDo.ledPort}">
                    </td>
                </tr>
                <tr>
                    <td class="TDleft"><label>LED路数</label></td>
                    <td>
                        <input type="text" name="ledRoad" th:value="${roomPropertyDo.ledRoad}">
                    </td>
                    <td class="TDleft"><label>LED状态：</label></td>
                    <td>
                        <span th:include="component/selectCombo(id='led_status',name='ledStatus',defaultValue=${roomPropertyDo.ledStatus},dictType='SWITCH_STATUS')"></span>
                    </td>
                </tr>

            </table>

            <div class="btn-youAdd">
                <button class="btn btn-primary" lay-submit lay-filter="formSave">保存</button>
                <button class="btn btn-primary" id="returnIndex">返回</button>
            </div>

        </form>
    </div>
</div>
</body>
<script type="text/javascript">
    layui.use(['layer','form'], function () {
        var layer = layui.layer;
        var form = layui.form;
        form.on('submit(formSave)', function(data){
            var res = new PublicAjax('/Room/saveRoomProperty.json', data.field);
            if(res.success){
                layer.msg("保存成功!");
                var index = parent.layer.getFrameIndex(window.name); //获取窗口索引
                parent.table.loadBody();//调用父窗口刷新整个
                parent.layer.close(index);//关闭弹窗
            }else{
                layer.msg("数据保存错误!");
            }
        });
    });
$("#returnIndex").click(function(){
	var index = parent.layer.getFrameIndex(window.name); //获取窗口索引
    parent.layer.close(index);//关闭弹窗
})
</script>
